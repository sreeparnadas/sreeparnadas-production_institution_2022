"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[1405],{1405:(me,v,r)=>{r.r(v),r.d(v,{FeesChargeModule:()=>ue});var l=r(6895),Z=r(4364),a=r(4006),m=r(805),e=r(4650),q=r(6991),U=r(5620),b=r(5412),A=r(7392),p=r(9549),f=r(3848),h=r(2336),T=r(5593),F=r(8796),I=r(2137),x=r(4144),_=r(9602);function N(o,i){1&o&&(e.TgZ(0,"mat-icon",48),e._uU(1,"trending_up"),e.qZA(),e._uU(2," Entry "))}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",53),e._uU(2),e.qZA(),e.TgZ(3,"th",54),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",35),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td")(13,"button",55),e.NdJ("click",function(){const c=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.editFeesReceived(c))}),e._UZ(14,"i",56),e.qZA(),e._uU(15," \xa0 "),e.qZA()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.transaction_number),e.xp6(2),e.Oqu(t.ledger_name),e.xp6(2),e.Oqu(e.xi3(11,5,t.amount,"INR"))}}function w(o,i){if(1&o&&(e.TgZ(0,"div",49)(1,"h1"),e._uU(2,"Fees Charge Details"),e.qZA(),e.TgZ(3,"table",29)(4,"thead")(5,"tr")(6,"th",30),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",31),e._uU(9,"TransactionId"),e.qZA(),e.TgZ(10,"th",30),e._uU(11,"Transaction No"),e.qZA(),e.TgZ(12,"th",30),e._uU(13,"Charge Name"),e.qZA(),e.TgZ(14,"th",30),e._uU(15,"Fees"),e.qZA(),e.TgZ(16,"th",30),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,y,16,8,"tr",32),e.TgZ(20,"tr",50)(21,"th",51),e._uU(22,"Grand Total"),e.qZA(),e.TgZ(23,"th",52),e._uU(24),e.ALo(25,"currency"),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.feesChargeDetailsArray),e.xp6(5),e.Oqu(e.xi3(25,2,t.totalFees,"INR"))}}function R(o,i){1&o&&(e.TgZ(0,"div",57)(1,"mat-form-field"),e._UZ(2,"input",58),e.qZA()())}function k(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",53),e._uU(2),e.qZA(),e.TgZ(3,"th",54),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",35),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td")(11,"button",55),e.NdJ("click",function(){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.onDelete(c))}),e._uU(12,"Remove"),e.qZA()()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.ledgerId),e.xp6(2),e.Oqu(t.feesName),e.xp6(2),e.Oqu(e.xi3(9,4,t.amount,"INR"))}}function S(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onUpdate())}),e._uU(1,"Update"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.FeesChargeFormGroup.valid||t.FeesChargeFormGroup.value.id)}}function M(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSave())}),e._uU(1,"Submit"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",!t.FeesChargeFormGroup.valid||t.FeesChargeFormGroup.value.id)}}function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onCashReceived())}),e._uU(1,"Received Cash"),e.qZA()}}function D(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"fieldset",62)(1,"legend"),e._uU(2,"Bank Details"),e.qZA(),e.TgZ(3,"form",8)(4,"div",63)(5,"div",9)(6,"div",23)(7,"mat-form-field",64)(8,"mat-label"),e._uU(9,"Account No"),e.qZA(),e._UZ(10,"input",65),e.qZA()(),e.TgZ(11,"div",23)(12,"mat-form-field",64)(13,"mat-label"),e._uU(14,"IFSC No"),e.qZA(),e._UZ(15,"input",66),e.qZA()(),e.TgZ(16,"div",23)(17,"mat-form-field",64)(18,"mat-label"),e._uU(19,"Branch Name"),e.qZA(),e._UZ(20,"input",67),e.qZA()(),e.TgZ(21,"div",23)(22,"div",68)(23,"button",69),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onBankReceived())}),e._uU(24,"Received Bank"),e.qZA()()()()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.BankReceivedFormGroup),e.xp6(20),e.Q6J("disabled",!t.BankReceivedFormGroup.valid||t.BankReceivedFormGroup.value.id)}}function G(o,i){1&o&&(e.TgZ(0,"h3"),e._uU(1,"Header Content"),e.qZA())}function J(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t),e.oxw();const s=e.MAs(78);return e.KtG(s.reject())}),e.qZA(),e.TgZ(1,"button",71),e.NdJ("click",function(){e.CHM(t),e.oxw();const s=e.MAs(78);return e.KtG(s.accept())}),e.qZA()}}function j(o,i){1&o&&(e.TgZ(0,"mat-icon",48),e._uU(1,"list"),e.qZA(),e._uU(2," View List "))}function Y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"div",9)(3,"div",74),e._UZ(4,"img",75),e.qZA(),e.TgZ(5,"div",76)(6,"p",77),e._uU(7," Barrackpore Academy Of Information Technology"),e.qZA(),e.TgZ(8,"p",78),e._uU(9,"Stalin Nagar, Barrackpore, Chiramore, Pin:700120"),e.qZA(),e.TgZ(10,"p",78),e._uU(11,"E-mail;barrackporeacademyofit2014@gmail.com | Contact: 7605887990"),e.qZA(),e._UZ(12,"hr",79),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",80)(15,"table")(16,"tr")(17,"td"),e._uU(18,"Student Name"),e.qZA(),e.TgZ(19,"td"),e._uU(20,":"),e.qZA(),e._UZ(21,"th"),e.qZA(),e.TgZ(22,"tr")(23,"td"),e._uU(24,"Contact No"),e.qZA(),e.TgZ(25,"td"),e._uU(26,":"),e.qZA(),e._UZ(27,"th"),e.qZA(),e.TgZ(28,"tr")(29,"td"),e._uU(30,"Course Name"),e.qZA(),e.TgZ(31,"td"),e._uU(32,":"),e.qZA(),e._UZ(33,"th"),e.qZA()()(),e.TgZ(34,"div",81)(35,"table")(36,"tr")(37,"td"),e._uU(38,"Bill No"),e.qZA(),e.TgZ(39,"td"),e._uU(40,":"),e.qZA(),e._UZ(41,"th"),e.qZA(),e.TgZ(42,"tr")(43,"td"),e._uU(44,"Bill Date"),e.qZA(),e.TgZ(45,"td"),e._uU(46,":"),e.qZA(),e._UZ(47,"th"),e.qZA(),e.TgZ(48,"tr")(49,"td"),e._uU(50,"Payment Date"),e.qZA(),e.TgZ(51,"td"),e._uU(52,":"),e.qZA(),e._UZ(53,"th"),e.qZA()()(),e.TgZ(54,"div",9)(55,"div",82)(56,"table",83)(57,"thead")(58,"tr",84)(59,"th"),e._uU(60,"Sl No"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Fees Name"),e.qZA(),e.TgZ(63,"th",36),e._uU(64,"Amount"),e.qZA()()(),e.TgZ(65,"tbody")(66,"tr"),e._UZ(67,"td")(68,"td")(69,"td",36),e.qZA()(),e.TgZ(70,"tfoot")(71,"tr",85),e._UZ(72,"th"),e.TgZ(73,"th"),e._uU(74,"Discount(-)"),e.qZA(),e._UZ(75,"th",36),e.qZA(),e.TgZ(76,"tr",86)(77,"th"),e._uU(78,"Total"),e.qZA(),e._UZ(79,"td")(80,"th",36),e.qZA(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"In Words:"),e.qZA(),e.TgZ(84,"td"),e._uU(85,":"),e.qZA(),e._UZ(86,"th",87),e.qZA(),e.TgZ(87,"tr",88)(88,"td"),e._uU(89,"Next Payment Date"),e.qZA(),e._UZ(90,"th"),e.TgZ(91,"th",87),e._uU(92,"Current Due: \xa0 "),e.qZA()()()()()(),e.TgZ(93,"div",89)(94,"div",90),e._uU(95," Notice:"),e.TgZ(96,"p",91),e._uU(97,"1) It is Computer Generated Bill"),e.qZA(),e.TgZ(98,"p",92),e._uU(99,"2) Advanced Fees Cannot be Refund."),e.qZA()(),e.TgZ(100,"div",93)(101,"p",36),e._uU(102,"Signature"),e.qZA(),e.TgZ(103,"p",36),e._uU(104,"-----------------"),e.qZA()()(),e.TgZ(105,"div",94)(106,"button",95),e.NdJ("click",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.onClickedOutside(s))}),e._uU(107,"Close"),e.qZA(),e.TgZ(108,"button",96),e._uU(109,"Print"),e.qZA()()()()}}function B(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",53),e._uU(2),e.qZA(),e.TgZ(3,"th",54),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",35),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"td")(13,"button",55),e.NdJ("click",function(){const c=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.editFeesReceived(c))}),e._UZ(14,"i",56),e.qZA(),e._uU(15," \xa0 "),e.qZA()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.transaction_number),e.xp6(2),e.Oqu(t.ledger_name),e.xp6(2),e.Oqu(e.xi3(11,5,t.amount,"INR"))}}function L(o,i){if(1&o&&(e.TgZ(0,"div",49)(1,"h1"),e._uU(2,"Fees Charge Details \xa0\xa0\xa0\xa0\xa0\xa0"),e.TgZ(3,"span",100),e._uU(4),e.qZA(),e._uU(5,"\xa0\xa0"),e.TgZ(6,"span",101),e._uU(7),e.qZA()(),e.TgZ(8,"table",29)(9,"thead")(10,"tr")(11,"th",30),e._uU(12,"#"),e.qZA(),e.TgZ(13,"th",31),e._uU(14,"TransactionId"),e.qZA(),e.TgZ(15,"th",30),e._uU(16,"Transaction No"),e.qZA(),e.TgZ(17,"th",30),e._uU(18,"Charge Name"),e.qZA(),e.TgZ(19,"th",30),e._uU(20,"Fees"),e.qZA(),e.TgZ(21,"th",30),e._uU(22,"Action"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,B,16,8,"tr",32),e.TgZ(25,"tr",50)(26,"th",51),e._uU(27,"Grand Total"),e.qZA(),e.TgZ(28,"th",52),e._uU(29),e.ALo(30,"currency"),e.qZA()()()()()),2&o){const t=e.oxw(2);e.xp6(4),e.Oqu(t.studentName),e.xp6(3),e.hij("Course:\xa0",t.courseName,""),e.xp6(17),e.Q6J("ngForOf",t.feesChargeDetailsArray),e.xp6(5),e.Oqu(e.xi3(30,4,t.totalFees,"INR"))}}function Q(o,i){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th",102),e.TgZ(2,"th",103),e._uU(3,"Name "),e._UZ(4,"p-sortIcon",104),e.qZA(),e.TgZ(5,"th"),e._uU(6,"courseName"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"feesTotal"),e.qZA()())}function P(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"button",105),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&o){const t=i.$implicit,n=i.expanded;e.xp6(2),e.Q6J("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(2),e.Oqu(t.studentName),e.xp6(2),e.Oqu(t.courseName),e.xp6(2),e.Oqu(t.feesTotal)}}function E(o,i){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id "),e.qZA()())}function z(o,i){1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2,"Test"),e.qZA()())}function H(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"td",106)(2,"div",107)(3,"p-table",108),e.YNc(4,E,3,0,"ng-template",44),e.YNc(5,z,3,0,"ng-template",98),e.qZA()()()()),2&o){const t=i.$implicit;e.xp6(3),e.Q6J("value",t.studentCourseRegistrationId)}}function K(o,i){if(1&o&&(e.TgZ(0,"div",72),e.YNc(1,L,31,7,"div",20),e.TgZ(2,"h1"),e._uU(3,"Fees Charge List"),e.qZA(),e.TgZ(4,"p-table",97),e.YNc(5,Q,9,0,"ng-template",44),e.YNc(6,P,9,5,"ng-template",98),e.YNc(7,H,6,1,"ng-template",99),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showTableRow),e.xp6(3),e.Q6J("value",t.feesReceivedArray)}}function V(o,i){1&o&&(e.TgZ(0,"mat-icon",48),e._uU(1,"thumb_up"),e.qZA(),e._uU(2," Upcoming Birthday "))}const $=function(){return{width:"30vw"}},X=[{path:"",component:(()=>{class o{constructor(t,n,s,c,d,g){this.transactionServicesService=t,this.confirmationService=n,this.activatedRoute=s,this.messageService=c,this.commonService=d,this.dialog=g,this.checked=!1,this.totalFees=0,this.showTableRow=!1,this.indeterminate=!1,this.labelPosition="after",this.disabled=!1,this.hiddenPopup=!1,this.hiddenInput=!1,this.showBox=!0,this.isShown=!1,this.isPopupButton=!1,this.isCashReceived=!1,this.referenceTransactionMasterId=0,this.studentsCharge=[],this.studentNameList=[],this.feesNameList=[],this.courseNameList=[],this.transactionList=[],this.tempFeesArray=[],this.feesReceivedArray=[],this.feesChargeDetailsArray=[],this.courses=[],this.popUpRestultArray=[],this.getCourseIdArray=[],this.ledgerId=0,this.amount=0,this.event=0,this.tempTotalAmount=0,this.totalAmount=0,this.removeTotalAmount=0,this.active=0,this.activatedRoute.data.subscribe(u=>{this.studentNameList=u.feesChargeResolver.studentsCharge.data,this.feesNameList=u.feesChargeResolver.feesNames.data})}ngOnInit(){const t=new Date;let n=(0,l.p6)(t,"yyyy-MM-dd","en");this.FeesChargeFormGroup=new a.cw({studentId:new a.NI(1,[a.kI.required]),transactionId:new a.NI(0,[a.kI.required]),comment:new a.NI,amount:new a.NI(null,[a.kI.required]),transactionDate:new a.NI(n),studentToCourseId:new a.NI(1,[a.kI.required]),ledgerId:new a.NI(7,[a.kI.required])}),this.BankReceivedFormGroup=new a.cw({accountNo:new a.NI(null,[a.kI.required]),ifscNo:new a.NI(null,[a.kI.required]),branch:new a.NI(null,[a.kI.required])}),this.transactionServicesService.fetchAllFeesName().subscribe(s=>{this.feesNameList=s.data}),this.transactionServicesService.fetchAllStudentName().subscribe(s=>{this.studentNameList=s.data}),this.getAllReceivedFees()}onTabChanged(t){this.event=t,console.log("Tab id:",this.event)}onClickedOutside(t){this.showBox=!1===this.showBox&&!this.showBox}onClickedRowShow(t){this.totalFees=0,this.studentName=t.studentName,this.courseName=t.courseName,this.transactionServicesService.fetchFeesChargeDetailsById(t.studentCourseRegistrationId).subscribe(n=>{this.feesChargeDetailsArray=n.data,console.log("FeesChargeDetails:",this.feesChargeDetailsArray);for(let s of this.feesChargeDetailsArray)this.totalFees+=s.amount;console.log(this.totalFees)}),this.showTableRow=!1===this.showTableRow&&!this.showTableRow}getAllReceivedFees(){this.transactionServicesService.fetchAllFeesReceived().subscribe(t=>{this.feesReceivedArray=t.data})}onAddFees(){this.ledgerId=this.FeesChargeFormGroup.get("ledgerId")?.value,this.amount=this.FeesChargeFormGroup.get("amount")?.value,this.totalAmount=Number(this.totalAmount)+Number(this.amount);const t=this.FeesChargeFormGroup.value;let n=this.feesNameList.findIndex(s=>s.id===t.ledgerId);this.tempItemObj={ledgerId:this.ledgerId,transactionTypeId:2,feesName:this.feesNameList[n].ledger_name,amount:this.amount},this.tempFeesArray.push(this.tempItemObj),this.tempTotalAmount=this.totalAmount}onDelete(t){this.totalAmount=this.totalAmount-this.tempFeesArray[t].amount,this.tempTotalAmount=this.totalAmount,this.tempFeesArray.splice(t,1)}clearFeesReceived(){this.isShown=!1,this.hiddenPopup=!1;const t=new Date;let n=(0,l.p6)(t,"yyyy-MM-dd","en");this.FeesChargeFormGroup=new a.cw({transactionId:new a.NI(0,[a.kI.required]),studentId:new a.NI(1,[a.kI.required]),comment:new a.NI(null,[a.kI.required]),amount:new a.NI(null,[a.kI.required]),transactionDate:new a.NI(n),studentToCourseId:new a.NI(1,[a.kI.required]),ledgerId:new a.NI(7,[a.kI.required])}),this.BankReceivedFormGroup=new a.cw({accountNo:new a.NI(null,[a.kI.required]),ifscNo:new a.NI(null,[a.kI.required]),branch:new a.NI(null,[a.kI.required])}),this.isCashReceived=!1,this.tempFeesArray=[],this.totalAmount=0}changeCourseId(){let t=this.FeesChargeFormGroup.get("studentId")?.value;this.courseNameList=[],this.transactionServicesService.fetchAllStudentToCourses(t).subscribe(n=>{this.courseNameList=n.data})}editFeesReceived(t){this.hiddenPopup=!1,console.log("id:",t.id),this.event=0,this.onTabChanged(this.event),this.isShown=!0,this.tempFeesArray=[],this.totalAmount=0,this.transactionServicesService.fetchAllTransaction(t.id).subscribe(n=>{this.transactionList=n.data,console.log("array",this.transactionList),this.transactionServicesService.fetchAllStudentToCourses(n.data[0].student_id).subscribe(s=>{this.courseNameList=s.data}),this.FeesChargeFormGroup.patchValue({transactionId:n.data[0].id}),this.FeesChargeFormGroup.patchValue({studentId:n.data[0].student_id}),this.FeesChargeFormGroup.patchValue({studentToCourseId:n.data[0].student_course_registration_id}),this.FeesChargeFormGroup.patchValue({comment:n.data[0].comment}),this.FeesChargeFormGroup.patchValue({transactionDate:n.data[0].transaction_date});for(let s of this.transactionList)this.tempItemObj={ledgerId:s.ledger_id,transactionTypeId:2,feesName:s.ledger_name,amount:s.amount},this.tempFeesArray.push(this.tempItemObj),this.totalAmount=Number(this.totalAmount)+Number(s.amount)})}onUpdate(){this.hiddenPopup=!1,this.confirmationService.confirm({message:"Do you want to Save this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{let t=this.FeesChargeFormGroup.get("transactionId")?.value,n=this.FeesChargeFormGroup.get("studentId")?.value,s=this.FeesChargeFormGroup.get("studentToCourseId")?.value,c=this.FeesChargeFormGroup.get("transactionDate")?.value,d=(0,l.p6)(c,"yyyy-MM-dd","en"),g=this.FeesChargeFormGroup.get("comment")?.value,u=(new Date).getFullYear(),le=(new Date).getMonth().toString();this.tempChargeObj={ledgerId:n,transactionTypeId:1,amount:this.totalAmount},this.tempFeesArray.push(this.tempChargeObj),this.tempObj={transactionMaster:{userId:1,studentCourseRegistrationId:s,transactionDate:d,comment:g,feesYear:u,feesMonth:le},transactionDetails:Object.values(this.tempFeesArray)},console.log("tran:",t),this.transactionServicesService.updateFeesCharge(t,this.tempObj).subscribe(C=>{1===C.success&&(this.getAllReceivedFees(),this.tempFeesArray=[],this.totalAmount=0,this.clearFeesReceived(),this.showSuccess("Record Updated successfully"))},C=>{this.showErrorMessage=!0,this.errorMessage=C.message,setTimeout(()=>{this.showErrorMessage=!1},2e4)})},reject:()=>{this.msgs=[{severity:"info",summary:"Rejected",detail:"You have rejected"}]}})}getActiveCourse(){this.hiddenPopup=!0;let t=this.FeesChargeFormGroup.get("studentId")?.value,n=this.FeesChargeFormGroup.get("studentToCourseId")?.value;this.transactionServicesService.fetchFeesChargeDetailsById(n).subscribe(s=>{this.feesChargeDetailsArray=s.data,console.log("FeesChargeDetails:",this.feesChargeDetailsArray);for(let c of this.feesChargeDetailsArray)this.totalFees+=c.amount;console.log(this.totalFees)}),this.transactionServicesService.fetchCourseId(n).subscribe(s=>{this.getCourseIdArray=s.data,this.CourseId=s.data[0].course_id,console.log("Course data:",s.data[0].course_id),this.tempGetActiveCourseObj={ledger_id:t,course_id:this.CourseId},this.transactionServicesService.fetchAllActiveCourse(this.tempGetActiveCourseObj).subscribe(c=>{this.popUpRestultArray=c.data,console.log("received data:",this.popUpRestultArray)})})}onBankReceived(){this.hiddenPopup=!1,this.confirmationService.confirm({message:"Do you want to Save this record?",header:"Save Confirmation",icon:"pi pi-info-circle",accept:()=>{let t=this.FeesChargeFormGroup.get("studentId")?.value,n=this.FeesChargeFormGroup.get("transactionDate")?.value,s=this.FeesChargeFormGroup.get("comment")?.value;this.tempChargeObj=[{ledgerId:2,transactionTypeId:1,amount:this.tempTotalAmount},{ledgerId:t,transactionTypeId:2,amount:this.tempTotalAmount}],this.tempObj={transactionMaster:{userId:1,referenceTransactionMasterId:this.referenceTransactionMasterId,transactionDate:n,comment:s},transactionDetails:Object.values(this.tempChargeObj)},this.transactionServicesService.saveFeesReceive(this.tempObj).subscribe(c=>{this.referenceTransactionMasterId=c.data.transactionMasterId,this.isCashReceived=!1,1===c.success&&(this.tempFeesArray=[],this.tempTotalAmount=0,this.clearFeesReceived(),this.showSuccess("Record added successfully"))},c=>{this.showErrorMessage=!0,this.errorMessage=c.message,setTimeout(()=>{this.showErrorMessage=!1},2e4)})},reject:()=>{this.msgs=[{severity:"info",summary:"Rejected",detail:"You have rejected"}]}})}onCashReceived(){this.confirmationService.confirm({message:"Do you want to Save this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{let t=this.FeesChargeFormGroup.get("studentId")?.value,n=this.FeesChargeFormGroup.get("transactionDate")?.value,s=this.FeesChargeFormGroup.get("comment")?.value;this.tempChargeObj=[{ledgerId:1,transactionTypeId:1,amount:this.tempTotalAmount},{ledgerId:t,transactionTypeId:2,amount:this.tempTotalAmount}],this.tempObj={transactionMaster:{userId:1,referenceTransactionMasterId:this.referenceTransactionMasterId,transactionDate:n,comment:s},transactionDetails:Object.values(this.tempChargeObj)},this.transactionServicesService.saveFeesReceive(this.tempObj).subscribe(c=>{this.referenceTransactionMasterId=c.data.transactionMasterId,this.isCashReceived=!1,1===c.success&&(this.tempFeesArray=[],this.tempTotalAmount=0,this.clearFeesReceived(),this.showSuccess("Record added successfully"))},c=>{this.showErrorMessage=!0,this.errorMessage=c.message,setTimeout(()=>{this.showErrorMessage=!1},2e4)})},reject:()=>{this.msgs=[{severity:"info",summary:"Rejected",detail:"You have rejected"}]}})}onSave(){this.hiddenPopup=!1,this.confirmationService.confirm({message:"Do you want to Save this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{let t=this.FeesChargeFormGroup.get("studentId")?.value,n=this.FeesChargeFormGroup.get("studentToCourseId")?.value,s=this.FeesChargeFormGroup.get("transactionDate")?.value,c=this.FeesChargeFormGroup.get("comment")?.value,d=(new Date).getFullYear(),g=(new Date).getMonth().toString();this.tempChargeObj={ledgerId:t,transactionTypeId:1,amount:this.totalAmount},this.tempFeesArray.push(this.tempChargeObj),this.tempObj={transactionMaster:{userId:1,studentCourseRegistrationId:n,transactionDate:s,comment:c,feesYear:d,feesMonth:g},transactionDetails:Object.values(this.tempFeesArray)},this.transactionServicesService.feesCharge(this.tempObj).subscribe(u=>{this.referenceTransactionMasterId=u.data.transactionMasterId,1===u.success&&(this.isCashReceived=!0,this.getAllReceivedFees(),this.tempFeesArray=[],this.totalAmount=0,this.clearFeesReceived(),this.showSuccess("Record added successfully"))},u=>{this.showErrorMessage=!0,this.errorMessage=u.message,setTimeout(()=>{this.showErrorMessage=!1},2e4)})},reject:()=>{this.msgs=[{severity:"info",summary:"Rejected",detail:"You have rejected"}]}})}showSuccess(t){throw new Error("Method not implemented.")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.D),e.Y36(m.YP),e.Y36(Z.gz),e.Y36(m.ez),e.Y36(U.v),e.Y36(b.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-fees-charge"]],features:[e._Bn([m.YP,m.ez])],decls:89,vars:26,consts:[[1,"d-flex","flex-column",2,"height","100vh"],[1,"page__box","p-3","mt-2"],[1,"page__content","shadow","p-3","position-relative",2,"background-color","#a3a0a0"],[1,"container-fluid"],[2,"background-color","rgb(85,85,85)"],["animationDuration","200ms",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[1,"p-3","flex-fill",2,"background-color","#94a3b8"],[3,"formGroup"],[1,"row"],[1,"col-sm-4"],["matInput","","formControlName","transactionDate",1,"col-9",3,"matDatepicker"],["ref",""],["matSuffix","",3,"for"],["transactionDate",""],[1,"col-sm-5"],["fxFlex","100","bindLabel","studentName","bindValue","studentId","appendTo","body","formControlName","studentId","placeholder","Student Name",1,"custom",3,"items","change"],["fxFlex","100","bindLabel","full_name","bindValue","id","appendTo","body","formControlName","studentToCourseId","placeholder","Course Name",1,"custom",3,"items"],[1,"col-sm-2"],["type","button",1,"btn","btn-outline-success","btn-space",3,"click"],["style","border: 5px dotted red; border-radius: 10px;",4,"ngIf"],["fxFlex","100","bindLabel","ledger_name","bindValue","id","appendTo","body","formControlName","ledgerId","placeholder","Fees Name",1,"custom",3,"items"],["matInput","","formControlName","amount","placeholder","Fee Amount","required",""],[1,"col-sm-3"],["pButton",""],[1,"bi","bi-save",3,"click"],[1,"col-sm-8"],["matInput","","autoResize","autoResize","formControlName","comment","placeholder","Description",3,"rows","cols"],["class","form-group",4,"ngIf"],[1,"table","table-striped"],["scope","col"],["scope","col",2,"display","none"],[4,"ngFor","ngForOf"],[1,"table-dark"],["colspan","2"],["align","right"],[1,"text-right"],["type","button",1,"btn","btn-outline-warning","btn-space",3,"click"],["type","button","class","btn btn-outline-danger btn-space",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-space",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","border p-2",4,"ngIf"],["header","Confirmation","icon","pi pi-exclamation-triangle",3,"transitionOptions"],["cd",""],["pTemplate","header"],["pTemplate","footer"],[1,"p-3","flex-fill",2,"width","100%"],["class","container","style","font-size:medium; background-color: white;",4,"ngIf"],[1,"example-tab-icon"],[2,"border","5px dotted red","border-radius","10px"],[2,"background-color","rgb(168, 160, 160)"],["align","right","colspan","3"],[2,"text-align","right"],["scope","row"],["scope","row",2,"display","none"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-pen"],[1,"form-group"],["matInput","","placeholder","Transaction ID","formControlName","transactionId"],["type","button",1,"btn","btn-outline-danger","btn-space",3,"disabled","click"],["type","button",1,"btn","btn-outline-success","btn-space",3,"disabled","click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"border","p-2"],[1,"d-flex","flex-row","bd-highlight","mb-3",2,"width","1000px","height","100px"],[2,"width","100%"],["matInput","","formControlName","accountNo","placeholder","Account Nummber","required",""],["matInput","","formControlName","ifscNo","placeholder","IFSC No","required",""],["matInput","","formControlName","branch","placeholder","Branch Name","required",""],[1,"p-2","col-2","bd-highlight"],["type","button",1,"btn","btn-outline-danger",3,"disabled","click"],["type","button","pButton","","icon","pi pi-times","label","No",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Yes",3,"click"],[1,"container",2,"font-size","medium","background-color","white"],[2,"border","2px dotted rgb(1, 1, 19)"],[1,"col-2"],["src","assets/img/baitLogo.png","width","100px","alt","AdminLTE Logo",2,"opacity",".8"],["align","center",1,"col-10"],[2,"margin-bottom","0","margin-top","0","font-size","large","font-family","Cooper Black"],[2,"margin-bottom","0","margin-top","0","font-size","medium"],[2,"height","2px","border-width","0","color","gray","background-color","gray"],[1,"col-7",2,"font-size","medium"],[1,"col-5",2,"font-size","medium"],[1,"col-md","text-center"],[2,"border-collapse","collapse","width","100%","margin","0 auto","font-size","medium"],[2,"border-top","3px dotted rgb(1, 1, 19)","border-bottom","3px dotted rgb(116, 114, 114)","background-color","rgb(196, 190, 190)","padding","0.5"],[2,"background-color","rgb(228, 227, 227)"],[2,"background-color","lightgrey","border-top","1px solid rgb(1, 1, 19)"],[1,"text-left"],[2,"background-color","lightgrey","border","1px solid rgb(1, 1, 19)"],[1,"row",2,"font-size","small"],[1,"col-7"],[2,"margin-bottom","0","margin-top","0","font-style","oblique","font-size","small"],[2,"margin-bottom","0","margin-top","0","font-style","oblique"],[1,"col-3"],["mat-dialog-actions",""],[1,"btn","btn-danger",3,"click"],["printSectionId","pdfTable","printTitle","Develop By Ronit","ngxPrint","",1,"btn","btn-success"],["dataKey","courseName",3,"value"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"color","brown","font-family","Arial Black","background-color","#e7e709"],[2,"color","rgb(73, 19, 234)","font-family","Arial Black","background-color","#e7e709"],[2,"width","3rem"],["pSortableColumn","studentName"],["field","studentName"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","7"],[1,"p-p-3"],["dataKey","studentCourseRegistrationId",3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Fees Charge"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-tab-group",5),e.NdJ("selectedIndexChange",function(c){return n.onTabChanged(c)}),e.TgZ(7,"mat-tab"),e.YNc(8,N,3,0,"ng-template",6),e.TgZ(9,"div",7)(10,"form",8)(11,"div",9)(12,"div",10)(13,"mat-form-field")(14,"mat-label"),e._uU(15,"Transaction Date"),e.qZA(),e._UZ(16,"input",11,12)(18,"mat-datepicker-toggle",13)(19,"mat-datepicker",null,14),e.qZA()()(),e.TgZ(21,"div",9)(22,"div",15)(23,"ng-select",16),e.NdJ("change",function(){return n.changeCourseId()}),e.qZA()(),e.TgZ(24,"div",15),e._UZ(25,"ng-select",17),e.qZA(),e.TgZ(26,"div",18)(27,"button",19),e.NdJ("click",function(){return n.getActiveCourse()}),e._uU(28,"Go >>"),e.qZA()()(),e.YNc(29,w,26,5,"div",20),e.TgZ(30,"div",9)(31,"div",15),e._UZ(32,"ng-select",21),e.qZA(),e.TgZ(33,"div",10)(34,"mat-form-field")(35,"mat-label"),e._uU(36,"Fee Amount"),e.qZA(),e._UZ(37,"input",22),e.qZA()(),e.TgZ(38,"div",23)(39,"button",24)(40,"i",25),e.NdJ("click",function(){return n.onAddFees()}),e._uU(41," Add "),e.qZA()()()(),e.TgZ(42,"div",9)(43,"div",26),e._UZ(44,"textarea",27),e.qZA(),e.TgZ(45,"div",10),e.YNc(46,R,3,0,"div",28),e.qZA()()(),e.TgZ(47,"table",29)(48,"thead")(49,"tr")(50,"th",30),e._uU(51,"#"),e.qZA(),e.TgZ(52,"th",31),e._uU(53,"Ledger id"),e.qZA(),e.TgZ(54,"th",30),e._uU(55,"Fee Name"),e.qZA(),e.TgZ(56,"th",30),e._uU(57,"Amount"),e.qZA(),e.TgZ(58,"th",30),e._uU(59,"Action"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,k,13,7,"tr",32),e.TgZ(62,"tr",33)(63,"th",34),e._uU(64,"Grand Total"),e.qZA(),e.TgZ(65,"td",35),e._uU(66),e.ALo(67,"currency"),e.qZA(),e.TgZ(68,"td"),e._uU(69,"\xa0"),e.qZA()()()(),e.TgZ(70,"p",36)(71,"button",37),e.NdJ("click",function(){return n.clearFeesReceived()}),e._uU(72,"Clear"),e.qZA(),e.YNc(73,S,2,1,"button",38),e.YNc(74,M,2,1,"button",39),e.YNc(75,O,2,0,"button",40),e.qZA(),e.YNc(76,D,25,2,"fieldset",41),e.TgZ(77,"p-confirmDialog",42,43),e.YNc(79,G,2,0,"ng-template",44),e.YNc(80,J,2,0,"ng-template",45),e.qZA()()(),e.TgZ(81,"mat-tab"),e.YNc(82,j,3,0,"ng-template",6),e.TgZ(83,"div",46),e.YNc(84,Y,110,0,"div",47),e.YNc(85,K,8,2,"div",47),e.qZA()(),e.TgZ(86,"mat-tab"),e.YNc(87,V,3,0,"ng-template",6),e._uU(88," Content 3 "),e.qZA()()()()()()),2&t){const s=e.MAs(20);e.xp6(6),e.Q6J("selectedIndex",n.active),e.xp6(4),e.Q6J("formGroup",n.FeesChargeFormGroup),e.xp6(6),e.Q6J("matDatepicker",s),e.xp6(2),e.Q6J("for",s),e.xp6(5),e.Q6J("items",n.studentNameList),e.xp6(2),e.Q6J("items",n.courseNameList),e.xp6(4),e.Q6J("ngIf",n.hiddenPopup),e.xp6(3),e.Q6J("items",n.feesNameList),e.xp6(12),e.Q6J("rows",2)("cols",100),e.xp6(2),e.Q6J("ngIf",n.hiddenInput),e.xp6(15),e.Q6J("ngForOf",n.tempFeesArray),e.xp6(5),e.Oqu(e.xi3(67,22,n.totalAmount,"INR")),e.xp6(7),e.Q6J("ngIf",n.isShown),e.xp6(1),e.Q6J("ngIf",!n.isShown),e.xp6(1),e.Q6J("ngIf",n.isCashReceived),e.xp6(1),e.Q6J("ngIf",n.isCashReceived),e.xp6(1),e.Akn(e.DdM(25,$)),e.Q6J("transitionOptions","0.8ms"),e.xp6(7),e.Q6J("ngIf",!n.showBox),e.xp6(1),e.Q6J("ngIf",n.showBox)}},dependencies:[l.sg,l.O5,A.Hw,p.KE,p.hX,p.R9,f.SP,f.uD,f.uX,h.iA,m.jx,h.lQ,h.jB,h.fz,T.Hq,F.w9,I.Q,x.Nt,_.Mq,_.hl,_.nW,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,b.H8,l.H9],styles:[".page[_ngcontent-%COMP%]{color:#fff;padding:0 1rem;background:#f1f5f9}.page__box[_ngcontent-%COMP%]{min-height:100px;background:#1e293b;margin:0 -1rem;font-size:36px}.page__content[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);border-radius:10px;margin-top:-3rem;background:white;color:#000;font-size:20px}.page__content-data[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.text-on-pannel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;margin-left:20px;padding:3px 5px;position:absolute;margin-top:-47px;border:1px solid #337ab7;border-radius:8px}.panel[_ngcontent-%COMP%]{margin-top:27px!important}.panel-body[_ngcontent-%COMP%]{padding-top:30px!important}.transaction-master-form[_ngcontent-%COMP%]{font-size:large;background-color:#fff;box-shadow:0 10px 6px -6px #777}.transaction-details-form[_ngcontent-%COMP%]{min-height:10vh;min-width:70vh;font-size:medium;box-shadow:0 10px 6px -6px #777}.btn-space[_ngcontent-%COMP%]{margin-right:5px}"]}),o})()}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.Bz.forChild(X),Z.Bz]}),o})();var ee=r(2453),te=r(4850),oe=r(6338),ne=r(8255),se=r(3683),ae=r(3546),ie=r(7729),re=r(6709),ce=r(3238),de=r(671);let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.ez,W,A.Ps,te.t,oe.ie,p.lN,ne.Tx,se.g0,f.Nh,ae.QW,h.U$,T.hJ,ee.EV,F.A0,I.D,ie.S,x.c,_.FA,a.u5,a.UX,ce.XK,b.Is,re.p9,de.p0]}),o})()}}]);